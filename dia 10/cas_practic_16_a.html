<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aleatoris sense repeticions (Cerca)</title>
  </head>
  <body>
    Crear un script que generi 30 números aleatoris entre 1 i 99 però que no en
    repeteixi cap.
    <br />
    <script>
      const nombres = getAleatorisSenseRepeticio_v1(30, 1, 99);
      displayArray(nombres);

      /**
       * Genera `quants` números aleatoris entre 'min' i 'max'
       *
       * @param {number} quants Nombre de números aleatoris a crear
       * @param {number} min Número mínim a considerar
       * @param {number} max Número màxim a considerar
       *
       * @return number[]
       * @throws Error
       */
      function getAleatorisSenseRepeticio_v1(quants, min, max) {
        if (quants > max) {
          throw new Error(
            `Impossible crear ${quants} numeros sense repeticions si el número màxim és ${max}`
          );
        }

        const apareguts = [];
        while (apareguts.length < quants) {
          let numero = getNumAleatori(min, max);

          // Què podem fer per a saber si hem d'afegir el nou número
          // aleatori dins dels números ja apareguts o hem de descartar-lo?
          if (apareguts.indexOf(numero) == -1) {
            apareguts.push(numero);
          } else {
            console.log(numero + " repetit"); // Merament com a curiositat
          }
        }
        return apareguts;
      }

      /**
       * Genera un número aleatori entre `min` i `max`
       *
       * @param {number} min
       * @param {number} max
       * @return number
       */
      function getNumAleatori(min, max) {
        return Math.floor(Math.random() * (max - min + 1) + min);
      }

      /**
       * Mostra per pantalla els números continguts a l'array 'apareguts'
       *
       * @param {array} apareguts
       * @return void
       */
      function displayArray(apareguts) {
        apareguts.forEach((num) => {
          document.write(num + "<br>");
        });
      }
    </script>
  </body>
</html>
