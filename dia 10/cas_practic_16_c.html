<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aleatoris sense repeticions (SET)</title>
  </head>
  <body>
    Crear un script que generi 30 números aleatoris entre 1 i 99 però que no en
    repeteixi cap.
    <br />
    <script>
      const numeros = getAleatorisSenseRepeticio_v1(5, 1, 5);
      displayArray(numeros);

      /**
       * Genera `quants` números aleatoris entre 'min' i 'max'
       *
       * @param {number} quants Nombre de números aleatoris a crear
       * @param {number} min Número mínim a considerar
       * @param {number} max Número màxim a considerar
       *
       * @return number[]
       * @throws Error
       */
      function getAleatorisSenseRepeticio_v1(quants, min, max) {
        // Estaria bé això?
        if (quants > max) {
          throw new Error(
            `Impossible crear ${quants} numeros sense repeticions si el número màxim és ${max}`
          );
        }

        // Donat que 'Set' no permet afegir números repetits ens va de conya
        const apareguts = new Set();
        while (apareguts.size < quants) {
          apareguts.add(getNumAleatori(min, max));
        }
        return apareguts;
      }

      /**
       * Genera un número aleatori entre `min` i `max`
       *
       * @param {number} min
       * @param {number} max
       * @return number
       */
      function getNumAleatori(min, max) {
        return Math.floor(Math.random() * (max - min + 1) + min);
      }

      /**
       * Mostra per pantalla els números continguts a l'array 'apareguts'
       *
       * @param {array} apareguts
       * @return void
       */
      function displayArray(apareguts) {
        apareguts.forEach((num) => {
          document.write(num + "<br>");
        });
      }
    </script>
  </body>
</html>
